
<!DOCTYPE html>
<html>
<head>
    <title>Print Control for Java Collection Types - Clojure Design - Clojure Development</title>

        

                        
    

            <meta http-equiv="X-UA-Compatible" content="IE=EDGE">
<meta charset="UTF-8">
<!-- Deprecated since 3.4. To be removed in a future version of Confluence; use AJS.Confluence.getContextPath() -->
<meta id="confluence-context-path" name="confluence-context-path" content="">
<meta id="confluence-base-url" name="confluence-base-url" content="https://dev.clojure.org">

<meta id="atlassian-token" name="atlassian-token" content="30041c830a95ce9c95d0b58cb377def6b96aa6d2">

<meta id="confluence-space-key" name="confluence-space-key" content="design">
<script type="text/javascript">
    // Deprecated global variables. To be removed in a future version of Confluence.
    var contextPath = '';
</script>

    

<!-- include system css resources -->


    <link type="text/css" rel="stylesheet" href="../../s/en_GB/3047/3/55/_/download/superbatch/css/batch.css" media="all">
<!--[if lt IE 9]>
<link type="text/css" rel="stylesheet" href="/s/en_GB/3047/3/55/_/download/superbatch/css/batch.css?conditionalComment=lt+IE+9" media="all">
<![endif]-->
<!--[if IE 9]>
<link type="text/css" rel="stylesheet" href="/s/en_GB/3047/3/55/_/download/superbatch/css/batch.css?conditionalComment=IE+9" media="all">
<![endif]-->
<!--[if lte IE 9]>
<link type="text/css" rel="stylesheet" href="/s/en_GB/3047/3/55/_/download/superbatch/css/batch.css?conditionalComment=lte+IE+9" media="all">
<![endif]-->
<link type="text/css" rel="stylesheet" href="../../s/en_GB/3047/3/55/_/download/superbatch/css/batch-media=print.css" media="print">
<!--[if lt IE 9]>
<link type="text/css" rel="stylesheet" href="/s/en_GB/3047/3/961a0823b948d2f215d5a69c25b0d622/_/download/contextbatch/css/page/batch.css?conditionalComment=lt+IE+9" media="all">
<![endif]-->
<link type="text/css" rel="stylesheet" href="../../s/en_GB/3047/3/961a0823b948d2f215d5a69c25b0d622/_/download/contextbatch/css/page/batch.css" media="all">
<!--[if lt IE 9]>
<link type="text/css" rel="stylesheet" href="/s/en_GB/3047/3/c80b4ecc4b1853e829650e7c54066b66/_/download/contextbatch/css/viewcontent,main/batch.css?conditionalComment=lt+IE+9" media="all">
<![endif]-->
<link type="text/css" rel="stylesheet" href="../../s/en_GB/3047/3/c80b4ecc4b1853e829650e7c54066b66/_/download/contextbatch/css/viewcontent,main/batch.css" media="all">
<link type="text/css" rel="stylesheet" href="../../s/en_GB/3047/3/2.0.1/_/download/batch/com.atlassian.confluence.plugins.pagetree-pagetree-resources/com.atlassian.confluence.plugins.pagetree-pagetree-resources.css" media="all">
<link type="text/css" rel="stylesheet" href="../../s/en_GB/3047/3/2.0.6/_/download/batch/com.atlassian.confluence.ext.newcode-macro-plugin-syntaxhighlighter/com.atlassian.confluence.ext.newcode-macro-plugin-syntaxhighlighter.css" media="all">
<link type="text/css" rel="stylesheet" href="../../s/en_GB/3047/3/2.0.6/_/download/batch/com.atlassian.confluence.ext.newcode-macro-plugin-sh-theme-confluence/com.atlassian.confluence.ext.newcode-macro-plugin-sh-theme-confluence.css" media="all">
<link type="text/css" rel="stylesheet" href="../../s/en_GB/3047/3/3/_/styles/colors-spaceKey=design.css" media="all">
<link type="text/css" rel="stylesheet" href="../../s/en_GB/3047/3/2.0.5/_/download/resources/com.atlassian.confluence.plugins.doctheme-documentation/default-theme.css" media="all">
<link type="text/css" rel="stylesheet" href="../../s/en_GB/3047/3/2.0.5/_/download/resources/com.atlassian.confluence.plugins.doctheme-documentation/splitter.css" media="all">

<!-- end system css resources -->

    <meta name="confluence-request-time" content="1556129488262">
            <meta name="ajs-page-id" content="5767196">
            <meta name="ajs-parent-page-id" content="8192269">
            <meta name="ajs-space-key" content="design">
            <meta name="ajs-space-name" content="Clojure Design">
            <meta name="ajs-page-title" content="Print Control for Java Collection Types">
            <meta name="ajs-parent-page-title" content="Release 1.5">
            <meta name="ajs-from-page-title" content="">
            <meta name="ajs-context-path" content="">
            <meta name="ajs-version-number" content="4.0">
            <meta name="ajs-build-number" content="3047">
            <meta name="ajs-remote-user" content="">
            <meta name="ajs-static-resource-url-prefix" content="/s/en_GB/3047/3/_">
            <meta name="ajs-global-settings-attachment-max-size" content="10485760">
            <meta name="ajs-user-locale" content="en_GB">
            <meta name="ajs-enabled-dark-features" content="">
            <meta name="ajs-atl-token" content="30041c830a95ce9c95d0b58cb377def6b96aa6d2">
            
            <meta name="ajs-keyboardshortcut-hash" content="7b95af54c6deada096af1f28fdd0f413">
            <meta name="ajs-use-keyboard-shortcuts" content="true">
    <!-- Deprecated since 3.4. To be removed in a future version of Confluence; use atl.header -->
        
            <script type="text/x-template" title="share-content-popup">
    <form action="#" method="post" class="aui share-content-popup">
        <fieldset>
            <label for="users">User name or email</label>
            <div class="autocomplete-user-target">
                <input class="text autocomplete-sharepage" id="users" data-max="10" data-dropdown-target=".autocomplete-user-target" data-none-message="No matching user or email found"/>
            </div>
            <ol class="recipients">
            </ol>
            <div><label for="note">Note</label></div>
            <textarea class="textarea" id="note" placeholder="Add an optional note"/>
        </fieldset>
        <div class="button-panel">
            <div class="progress-messages-icon"></div>
            <div class="progress-messages">
            </div>
            <input class="button submit" type="submit" value="Share" disabled/>
            <a class="close-dialog" href="#">Cancel</a>
        </div>
    </form>
</script>

<script type="text/x-template" title="share-content-popup-recipient-username">
    <li data-username="{username}" style="display: none">
        <span>
            <img src="{thumbnailLink.href}" title="{title}">
            <span>{title}</span>
            <span class="remove-recipient"/>
        </span>
    </li>
</script>

<script type="text/x-template" title="share-content-popup-recipient-email">
    <li data-email="{email}" style="display: none">
        <span>
            <img src="{icon}" title="{email}">
            <span>{email}</span>
            <span class="remove-recipient"/>
        </span>
    </li>
</script>
    
    <link rel="shortcut icon" href="../../favicon.ico">
    <link rel="icon" type="image/png" href="../../s/en_GB/3047/3/_/images/logo/confluence_16.png">

<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch/osd.action.xml" title="Clojure Development"/>

        <!-- include system javascript resources -->
                        
    
    <script type="text/javascript" src="../../s/en_GB/3047/3/55/_/download/superbatch/js/batch.js" ></script>
<!--[if lte IE 8]>
<script type="text/javascript" src="/s/en_GB/3047/3/55/_/download/superbatch/js/batch.js?conditionalComment=lte+IE+8" ></script>
<![endif]-->
<script type="text/javascript" src="../../s/en_GB/3047/3/961a0823b948d2f215d5a69c25b0d622/_/download/contextbatch/js/page/batch.js" ></script>
<script type="text/javascript" src="../../s/en_GB/3047/3/c80b4ecc4b1853e829650e7c54066b66/_/download/contextbatch/js/viewcontent,main/batch.js" ></script>
<script type="text/javascript" src="../../s/en_GB/3047/3/2.0.1/_/download/batch/com.atlassian.confluence.plugins.pagetree-pagetree-resources/com.atlassian.confluence.plugins.pagetree-pagetree-resources.js" ></script>
<script type="text/javascript" src="../../s/en_GB/3047/3/2.0.6/_/download/batch/com.atlassian.confluence.ext.newcode-macro-plugin-syntaxhighlighter/com.atlassian.confluence.ext.newcode-macro-plugin-syntaxhighlighter.js" ></script>
<script type="text/javascript" src="../../s/en_GB/3047/3/2.0.6/_/download/batch/com.atlassian.confluence.ext.newcode-macro-plugin-syntaxhighlighter-brushes/com.atlassian.confluence.ext.newcode-macro-plugin-syntaxhighlighter-brushes.js" ></script>

    
    <!-- end system javascript resources -->

    

    
    <link rel="canonical" href="Print+Control+for+Java+Collection+Types.html">
    <link rel="shortlink" href="Print+Control+for+Java+Collection+Types.html">
    <meta name="wikilink" content="[design:Print Control for Java Collection Types]">
    <meta name="page-version" content="2">

</head>

<body             onload="placeFocus()"
     id="com-atlassian-confluence" class="theme-documentation ">
<div id="full-height-container">
    <div id="header-precursor">
        
        
                </div>

<div id="header" class="sectionbottom ">
        <form id="quick-search" class="quick-search" method="get" action="../../dosearchsite.action.html">
                <fieldset>
            <input type="hidden" name="spaceSearch" value="false"/>
        </fieldset>
        <fieldset>
            <legend>Quick Search</legend>
            <input class="quick-search-query" id="quick-search-query" type="text" accessKey="search-pages-action.accesskey" autocomplete="off" name="queryString" size="25"/>
            <input class="quick-search-submit" id="quick-search-submit" type="submit"  value="Search Confluence" />
            <div class="aui-dd-parent quick-nav-drop-down"><!-- Quick nav appears here --></div>
        </fieldset>
        <fieldset class="hidden parameters">
            <input type="hidden" id="quickNavEnabled" value="true" />
                    </fieldset>
    </form>

    <ul id="header-menu-bar" class="ajs-menu-bar">
                    
        
            <li class="normal ajs-menu-item">
        <a id="browse-menu-link" class="browse trigger ajs-menu-title" href="#"><span><span>Browse</span></span></a>         <div class="assistive ajs-drop-down">
                        <ul  id="browse-menu-link-leading"                 class="section-leading first">
                                        <li>
    
        
    
    <a  id="space-pages-link" href="../../pages/recentlyupdated.action-key=design.html"  class=""   title="Browse pages in the Clojure Design space">
                   <span>Pages</span></a>        </li>
                                        <li>
    
        
    
    <a  id="space-blogposts-link" href="../../pages/viewrecentblogposts.action-key=design.html"  class=""   title="Browse blogs in the Clojure Design space">
                   <span>Blog</span></a>        </li>
                                        <li>
    
        
    
    <a  id="space-labels-link" href="../../labels/listlabels-heatmap.action-key=design.html"  class=""   title="Browse labels in the Clojure Design space">
                   <span>Labels</span></a>        </li>
                                        <li>
    
        
    
    <a  id="space-attachments-link" href="../../spaces/listattachmentsforspace.action-key=design.html"  class=""   title="Browse attachments in the Clojure Design space">
                   <span>Attachments</span></a>        </li>
                                        <li>
    
        
    
    <a  id="space-mail-link" href="../../spaces/viewmailarchive.action-key=design.html"  class=""   title="Browse mail in the Clojure Design space">
                   <span>Mail</span></a>        </li>
                                        <li>
    
        
    
    <a  id="space-advanced-link" href="../../spaces/viewspacesummary.action-key=design.html"  class=""   title="Browse additional space functions in the Clojure Design space">
                   <span>Advanced</span></a>        </li>
                            </ul>
                        <ul  id="browse-menu-link-global"                 class="section-global">
                                        <li>
    
        
    
    <a  id="whats-new-menu-link" href="http://docs.atlassian.com/confluence/docs-40/whatsnew/iframe"  class=""   title="">
                   <span>What’s New</span></a>        </li>
                                        <li>
    
        
    
    <a  id="space-directory-link" href="../../spacedirectory/view.action.html"  class=""   title="Browse the Confluence space directory">
                   <span>Space Directory</span></a>        </li>
                                        <li>
    
        
    
    <a  id="feed-builder-link" href="../../dashboard/configurerssfeed.action.html"  class=""   title="Create your custom RSS feed.">
                   <span>Feed Builder</span></a>        </li>
                                        <li>
    
            
    
    <a  id="keyboard-shortcuts-link" href="#"  class=""   title="View available keyboard shortcuts">
                   <span>Keyboard Shortcuts</span></a>        </li>
                                        <li>
    
            
    
    <a  id="gadget-directory-link" href="#"  class="user-item administration-link"   title="Browse gadgets provided by Confluence">
                   <span>Confluence Gadgets</span></a>        </li>
                            </ul>
                    </div>
    </li>
        
                                                         <li class="ajs-menu-item normal">
        
        
    
    <a  id="login-link" href="https://dev.clojure.org/login.action?os_destination=%2Fdisplay%2Fdesign%2FPrint%2BControl%2Bfor%2BJava%2BCollection%2BTypes"  class="user-item login-link"   title="">
                   <span>Log In</span></a>        </li>
                            <li class="ajs-menu-item normal">
    
        
    
    <a  id="signup-link" href="../../signup.action.html"  class="user-item signup-link"   title="">
                   <span>Sign Up</span></a>        </li>
                                <li class="normal ajs-menu-item">
            <div id="splitter-button" class="hidden" title="Show or hide sidebar"></div>
        </li>

    </ul>
    
    
    <ol id="breadcrumbs">
                    
                        
        <li class="first" >
                                    <span><a href="../../dashboard.action.html" title="Go to Dashboard">Dashboard</a></span>
                </li>
                    
                
        <li>
                                    <span><a href="Home-jsessionid=3A56E29DA520B75101350BA4484B9990.html">Clojure Design</a></span>
                </li>
                                        <li id="ellipsis" title="Show all breadcrumbs"><span><strong>&#8230;</strong></span></li>
                                    
                
        <li class="hidden-crumb" >
                                    <span><a href="Home.html">Home</a></span>
                </li>
                                
                
        <li class="hidden-crumb" >
                                    <span><a href="Release+Planning.html">Release Planning</a></span>
                </li>
                                
                
        <li class="hidden-crumb" >
                                    <span><a href="Release+1.5.html">Release 1.5</a></span>
                </li>
                    
                
        <li>
                                    <span><a href="Print+Control+for+Java+Collection+Types.html">Print Control for Java Collection Types</a></span>
                </li>
        </ol>

</div>

    <div id="splitter">
    <div id="splitter-sidebar" >
        

                    
        
    

<div class="plugin_pagetree">

                <div id="pagetreesearch">
            <form method="POST" action="../../dosearchsite.action-searchQuery.queryString=&amp;searchQuery.spaceKey=conf_all.html" name="pagetreesearchform">
                                    <input type="hidden" name="ancestorId" value="458775">
                                <input type="hidden" name="spaceKey" value="design">
                <input type="text"  size="20" name="queryString">
                <input type="submit" value="Search">
            </form>
        </div>
    
        
    <ul class="plugin_pagetree_children_list plugin_pagetree_children_list_noleftspace">
        <div class="plugin_pagetree_children">
        </div>
    </ul>

    <fieldset class="hidden">
        <input type="hidden" name="treeId" value="">
        <input type="hidden" name="treeRequestId" value="/plugins/pagetree/naturalchildren.action?decorator=none&amp;excerpt=false&amp;sort=position&amp;reverse=false&amp;disableLinks=false">
        <input type="hidden" name="treePageId" value="5767196">

        <input type="hidden" name="noRoot" value="false">
        <input type="hidden" name="rootPageId" value="458775">

        <input type="hidden" name="rootPage" value="">
        <input type="hidden" name="startDepth" value="0">
        <input type="hidden" name="spaceKey" value="design" >

        <input type="hidden" name="i18n-pagetree.loading" value="Loading...">
        <input type="hidden" name="i18n-pagetree.error.permission" value="Unable to load page tree. It seems that you do not have permission to view the root page.">
        <input type="hidden" name="i18n-pagetree.eeror.general" value="There was a problem retrieving the page tree. Please check the server log file for more information.">
        <input type="hidden" name="loginUrl" value="/login.action?os_destination=%2Fdisplay%2Fdesign%2FPrint%2BControl%2Bfor%2BJava%2BCollection%2BTypes">

                <fieldset class="hidden">
                                                <input type="hidden" name="ancestorId" value="8192269">
                                    <input type="hidden" name="ancestorId" value="5767475">
                                    <input type="hidden" name="ancestorId" value="458775">
                                    </fieldset>
    </fieldset>
</div>



            </div>
    <div id="splitter-content">

                    <script type="text/javascript" src="../../s/en_GB/3047/3/2.0.5/_/download/resources/com.atlassian.confluence.plugins.doctheme-resources/doc-theme.js"></script>
    
            
    
<div id="main" >
    <div id="main-header">
	    
	    
    <div id="navigation" class="content-navigation view">
                    <ul class="ajs-menu-bar">
                                
                        
            <li class="normal ajs-menu-item">
        <a id="action-menu-link" class="action trigger ajs-menu-title" href="#"><span><span>Tools</span></span></a>         <div class="assistive ajs-drop-down">
                        <ul  id="action-menu-link-primary"                 class="section-primary first">
                                        <li>
    
        
    
    <a  id="view-attachments-link" href="https://dev.clojure.org/pages/viewpageattachments.action?pageId=5767196"  class="action-view-attachments"  accessKey="a"  title="View Attachments">
                   <span><u>A</u>ttachments (0)</span></a>        </li>
                                        <li>
    
        
    
    <a  id="action-view-history-link" href="https://dev.clojure.org/pages/viewpreviousversions.action?pageId=5767196"  class="action-view-history"   title="">
                   <span>Page History</span></a>        </li>
                                        <li>
    
        
    
    <a  id="action-page-permissions-link" href="https://dev.clojure.org/pages/viewinfo.action?pageId=5767196"  class="action-page-permissions"   title="Edit restrictions">
                   <span>Restrictions</span></a>        </li>
                            </ul>
                        <ul  id="action-menu-link-secondary"                 class="section-secondary">
                                        <li>
    
        
    
    <a  id="view-page-info-link" href="https://dev.clojure.org/pages/viewinfo.action?pageId=5767196"  class="action-view-info"   title="">
                   <span>Info</span></a>        </li>
                                        <li>
    
        
    
    <a  id="link-to-page-link" href="https://dev.clojure.org/pages/viewinfo.action?pageId=5767196"  class=""   title="Link to this Page">
                   <span>Link to this Page&hellip;</span></a>        </li>
                                        <li>
    
        
    
    <a  id="view-in-hierarchy-link" href="../../pages/listpages-dirview.action-key=design&amp;openId=5767196.html#selectedPageInHierarchy"  class=""   title="">
                   <span>View in Hierarchy</span></a>        </li>
                                        <li>
    
        
    
    <a  id="action-view-source-link" href="https://dev.clojure.org/plugins/viewsource/viewpagesrc.action?pageId=5767196"  class="action-view-source popup-link"   title="">
                   <span>View Source</span></a>        </li>
                            </ul>
                    </div>
    </li>
            </ul>
    </div>

	    
	    <h1 id="title-heading" class="pagetitle">
	        	            <a href="Home-jsessionid=3A56E29DA520B75101350BA4484B9990.html"><img class="logo global custom" src="../../download/attachments/131074/global.logo.png" alt=""></a>	        	
			<span id="title-text">
							            <a href="Print+Control+for+Java+Collection+Types.html">Print Control for Java Collection Types</a>
    						</span>
	    </h1>
	</div>

    

    
    
    
    
    

                                                                                                                                                                                                                                                                                                                                                                                                                                                                      




        













    
    
        
    
    
                    
    

    


<div id="content" class="page view">
    



                
<script type="text/x-template" title="movePageDialog">
    <div class="row information">
        <div class="inner">
            <div class="element">
                Specify the new parent page for this page and its children by space and title.
            </div>
        </div>
    </div>
    <div class="form">
        <fieldset>
                

    <legend class="assistive"><span>Change the Parent Page to a Known Page</span></legend>
            <div class="row">
                <label for="new-space">New space:</label>
                <div class="value new-space-value">
                    <input id="new-space-key" name="new-space-key" type="hidden" value="design">
                                            <span class="space-input">
                            <input id="new-space" name="new-space" value="Clojure Design" disabled="disabled">
                        </span>
                        <span class="description warning">You cannot move this page to another space because you do not have permission to remove it from this space.</span>
                                        <div class="new-space-dropdown aui-dd-parent autocomplete"></div>
                </div>
            </div>
            <div class="row">
                <label for="new-parent-page">New parent page:</label>
                <div class="value new-parent-page-value">
                    <span class="page-input">
                        <input id="new-parent-page" name="new-parent-page" value="Release 1.5">
                    </span>
                    <span class="description">Start typing a page title to see a list of suggestions.</span>
                    <div class="new-parent-page-dropdown aui-dd-parent autocomplete"></div>
                </div>
            </div>
        </fieldset>
    </div>
    <div class="location-info">
        <div class="row">
            <label>Current location:</label>
            <div class="value breadcrumbs-container">
                <div class="breadcrumbs-line">
                    <ul id="current-parent-breadcrumbs" class="breadcrumbs">
                    </ul>
                </div>
            </div>
        </div>
        <div class="row">
            <label>New location:</label>
            <div class="value breadcrumbs-container">
                <div class="breadcrumbs-line">
                    <ul id="new-parent-breadcrumbs" class="breadcrumbs">
                    </ul>
                </div>
            </div>
        </div>
    </div>
</script>

<script type="text/x-template" title="movePageSearchPanel">
    <div class="row information">
        <div class="inner">
            <div class="element">
                Search for and select the new parent page for this page and its children.
            </div>
        </div>
    </div>
    <div id="move-page-search-container" class="row">
        <div class="search-form">
            <fieldset>
                    

    <legend class="assistive"><span>Search for a New Parent Page</span></legend>
                    

    <label  for="move-page-search-query" class="assistive">Search keywords</label>
                <input class="search-query" id="move-page-search-query">
                    

    <label  for="move-page-search-space" class="assistive">Search in space</label>
                                    <select id="move-page-search-space" class="search-space" disabled="disabled">
                        <option value="design" selected="selected">Clojure Design</option>
                    </select>
                                <input type="button" value="Search">
                                    <div class="description warning">You cannot move this page to another space because you do not have permission to remove it from this space.</div>
                            </fieldset>
        </div>
        <div class="search-results">
        </div>
    </div>
</script>
<script type="text/x-template" title="searchResultsGrid">
    <table>
        <thead>
            <tr class="header">
                <th class="search-result-title">Page Title</th>
                <th class="search-result-space">Space</th>
                <th class="search-result-date">Updated</th>
            </tr>
        </thead>
    </table>
</script>
<script type="text/x-template" title="searchResultsGridCount">
    <p class="search-result-count">{0}</p>
</script>
<script type="text/x-template" title="searchResultsGridRow">
    <tr class="search-result">
        <th class="search-result-title"><a href="{1}" class="content-type-{2}"><span>{0}</span></a></th>
        <td class="search-result-space"><a class="space" href="/display/{4}/" title="{3}">{3}</a></td>
        <td class="search-result-date"><span class="date" title="{6}">{5}</span></td>
    </tr>
</script><!-- Start restrictions section -->
<script type="text/x-template" title="page-permissions-div">
<div id="page-permissions-div">
    <div id="page-permissions-editor-form">

                <div id="page-permissions-error-div" class="hidden">
            <a href="#" id="permissions-error-div-close">Ok</a>
            <div></div>
        </div>

                <div id="page-permissions-type-radios" class="page-permissions-label-rows">
            <div>
                <input id="restrictViewRadio" type="radio" checked="checked" name="pagePermissionTypeRadio" value="view"/>
                <label for="restrictViewRadio">Restrict viewing of this page</label>
                <input id="restrictEditRadio" type="radio" name="pagePermissionTypeRadio" value="edit"/>
                <label for="restrictEditRadio">Restrict editing of this page</label>
            </div>
        </div>
        <div id="page-permissions-input" class="page-permissions-label-rows">
            <div class="page-permissions-label">To:</div>
            <div id="page-permissions-chooser-box">
                                <span id="page-permissions-choose-user" class="ajs-button">
                    



    



<a href="#" id='userpicker-popup-link-image' onClick="var picker = window.open('/spaces/openuserpicker.action?key=design&amp;startIndex=0&amp;onPopupSubmit=AJS.PagePermissions.addUserPermissions', 'EntitiesPicker', 'status=yes,resizable=yes,top=100,left=200,width=700,height=680,scrollbars=yes'); picker.focus(); return false;"><img src="/s/en_GB/3047/3/_/images/icons/user_16.gif" height=16 width=16 border=0 align="absmiddle"  title="Choose users" /></a>
<a href="#" id='userpicker-popup-link-text' onClick="var picker = window.open('/spaces/openuserpicker.action?key=design&amp;startIndex=0&amp;onPopupSubmit=AJS.PagePermissions.addUserPermissions', 'EntitiesPicker', 'status=yes,resizable=yes,top=100,left=200,width=700,height=680,scrollbars=yes'); picker.focus(); return false;">Person...</a>


                </span>
                <span id="page-permissions-choose-group" class="ajs-button">
                    



    

 

<a href="#" id='grouppicker-popup-link-image' onClick="var picker = window.open('/spaces/opengrouppicker.action?key=design&amp;startIndex=0&amp;actionName=dosearchgroups.action&amp;onPopupSubmit=AJS.PagePermissions.addGroupPermissions', 'EntitiesPicker', 'status=yes,resizable=yes,top=100,left=200,width=580,height=550,scrollbars=yes'); picker.focus(); return false;"><img src="/s/en_GB/3047/3/_/images/icons/group_16.gif" height=16 width=16 border=0 align="absmiddle"  title="Choose groups" /></a>
<a href="#" id='grouppicker-popup-link-text' onClick="var picker = window.open('/spaces/opengrouppicker.action?key=design&amp;startIndex=0&amp;actionName=dosearchgroups.action&amp;onPopupSubmit=AJS.PagePermissions.addGroupPermissions', 'EntitiesPicker', 'status=yes,resizable=yes,top=100,left=200,width=580,height=550,scrollbars=yes'); picker.focus(); return false;">Group...</a>


                </span>
            </div>
            <div id="page-permissions-input-box">
                <input type="text" id="page-permissions-names-input" name="permissionNames"
                    placeholder="Enter user or group name" class="autocomplete-user"
                    data-max="10" data-none-message="No matches"
                    data-target="#page-permissions-names-hidden" data-template="{username}"
                    data-dropdown-target="#page-perms-name-dropdown-wrapper" data-resize-to-input="true"
                    size="30"/>
                <input
    type="hidden"
                            id="page-permissions-names-hidden"           />                <img height="16px" width="1px" src="/s/en_GB/3047/3/_/images/border/spacer.gif"/>
                <input type="button" id="add-typed-names" value="Restrict">
                <div id="page-perms-name-dropdown-wrapper" class="aui-dd-parent autocomplete"></div>
            </div>
        </div>
    </div>
    <div id="page-permissions-tables">
        <div id="page-permissions-table-div">
                        <table id="page-permissions-table" class="page-permissions-table">
                <tr id="page-permissions-no-views" class="marker-row">
                    <td colspan="3" class="page-permissions-marker-cell"><span>No view restrictions are defined for this page</span></td>
                </tr>
                <tr id="page-permissions-no-edits" class="marker-row">
                    <td colspan="3" class="page-permissions-marker-cell"><span>No edit restrictions are defined for this page</span></td>
                </tr>
            </table>
        </div>
        <div id="page-inherited-permissions-table-div" class="hidden">
            <span id="page-inherited-permissions-table-desc">
                <a class="icon twisty-closed">Show/Hide</a>
                <a id="toggle-inherited-permissions" title="Click to see inherited restrictions">This page has restricted parent pages. It can only be seen by users who can see those parent pages.</a>
            </span>
            <div id="page-inherited-permissions-tables" class="hidden page-inheritance-togglable"></div>
        </div>
    </div>
</div>
</script>

<!-- End restrictions section -->

        
    
    
        <fieldset class="hidden parameters">
            <input type="hidden" title="parentPageId" value="8192269">
        </fieldset>

        
                            
    

                    

        
        <a href="#page-metadata-end" class="assistive">Skip to end of metadata</a>
<div id="page-metadata-start" class="assistive"></div>

    <div class="page-metadata">
        <ul>
                            <li class="page-metadata-item noprint">
    
            
    
    <a  id="content-metadata-page-restrictions" href="#"  class="page-metadata-icon page-restrictions hidden"   title="Page restrictions apply. Click the lock icon to view or edit the restriction.">
                   <span>Page restrictions apply</span></a>        </li>
                        <li class="page-metadata-modification-info">
                                    Added by <a href="../../login.action-os_destination=-display-~stu.html"
                          class="url fn"
                   >Stuart Halloway</a>, last edited by <a href="../../login.action-os_destination=-display-~stu.html"
                          class="url fn"
                   >Stuart Halloway</a> on May 07, 2013
                                                                <span class="noprint">&nbsp;(<a id="view-change-link" href="https://dev.clojure.org/pages/diffpages.action?pageId=5767196&amp;originalId=8192082">view change</a>)</span>
                                                </li>
                    </ul>
                </div>


<a href="#page-metadata-start" class="assistive">Go to start of metadata</a>
<div id="page-metadata-end" class="assistive"></div>
        
        <fieldset class="hidden parameters">
                        <input type="hidden" title="browsePageTreeMode" value="view">
        </fieldset>

        <div class="wiki-content">
                           <p>Java collection types currently print as</p><pre>#&lt;ClassName {toString rep}&gt;</pre><p>As a result, their contents are not subject to control via Clojure's flags:</p><pre>*print-length*, *print-level*</pre><p>This is a big pain when working with big Java data at the REPL. I propose that, when their print forms are not overridden in derived classes, objects that implement the core Java collection interfaces print</p><ul><li>with the same rep as Clojure's persistent collections</li><li>subject to the various print binding flags</li></ul><p>Not in scope</p><ul><li>Per Rich's comment in the discussion, Java collections should not expose their type in print rep, so an array list should print as <span style="font-size: 10.0pt;line-height: 13.0pt;">e.g.  </span><code style="font-size: 10.0pt;line-height: 13.0pt;">[1 2]</code><span style="font-size: 10.0pt;line-height: 13.0pt;"> like any other sequential collection. </span></li><li><span style="font-size: 10.0pt;line-height: 13.0pt;">print-dup </span></li><li><span style="font-size: 10.0pt;line-height: 13.0pt;">Print/read roundtripping to a specific concrete type</span></li></ul>
    
        </div>

        <!--
<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
         xmlns:dc="http://purl.org/dc/elements/1.1/"
         xmlns:trackback="http://madskills.com/public/xml/rss/module/trackback/">
         <rdf:Description
    rdf:about="https://dev.clojure.org/display/design/Print+Control+for+Java+Collection+Types"
    dc:identifier="https://dev.clojure.org/display/design/Print+Control+for+Java+Collection+Types"
    dc:title="Print Control for Java Collection Types"
    trackback:ping="https://dev.clojure.org/rpc/trackback/5767196"/>
</rdf:RDF>
-->

        <script type="text/x-template" title="labels-dialog-div">

    
    <div id="labels-dialog">
        <div class="labels-editor">
            <span class="errorMessage error" id="errorSpan"></span>
            <form method="GET" action="" id="add-labels-form">
                <div id="labelOperationErrorContainer">
                    <span class="error"><span class="errorMessage" id="labelOperationErrorMessage"></span></span>
                </div>
    
                <div class="caption">Enter labels to add to this page:</div>
                <div id="label-input-fields">
                    <input autocomplete="off" id="labelsString" name="labelsString" value="">
                    <input id="add-labels-editor-button" type="submit" class="add-labels" value="Add">
                </div>
                <div id="labelsAutocompleteList" class="aui-dd-parent resize-to-input" style="width: 417px"></div>
                <div id="dialog-label-list">
                    <span id="labels-section-title-none" class="no-labels-message" >
None
</span>
<ul class="label-list">
</ul>
                </div>
                <div id="waitImageAndStatus">
                    <img class="waiting" alt="Please wait" src="/s/en_GB/3047/3/_/images/icons/wait.gif">&nbsp;
                    <span id="labelOperationStatus" class="smalltext"></span>
                </div>
                <div class="labels-tip"></div>
            </form>
        </div>
    </div>
</script>
            
    


<div id="labels-section" class="pageSection group">
    <div class="labels-editor">
        <span id="labels-section-title" class="label-title">Labels:</span>
        <div id="labels-section-content" class="content-column">
            <span id="labels-section-title-none" class="no-labels-message" >
None
</span>
<ul class="label-list">
</ul>

                            <a id="labels-edit" href="#" class="show-labels-editor editor-icon" title="Edit Labels">
                    <span class="icon icon-edit">Edit Labels</span>
                </a>
                    </div>
    </div>
</div>

            
            




            
    







<div id="comments-section" class="pageSection group">
    
            <div class="section-header ">
            <h2 id="comments-section-title" class="section-title">
                <a href="#" class="comments-show-hide comments-showing" name="comments">
                                            13 Comments
                                    </a>
            </h2>
            <a title="Hide/Show Comments" href="#" 
               class="comments-show-hide icon comments-showing icon-section-opened">
                Hide/Show Comments
            </a>
        </div>
    
    
                            <ol class="comment-threads top-level " id="page-comments">
                        <li id="comment-thread-5767197" class="comment-thread">
                                <div class="comment  " id="comment-5767197">
                <p class="comment-user-logo">
                    <img class="userLogo logo anonymous" src="../../s/en_GB/3047/3/_/images/icons/profilepics/anonymous.png"
           alt="User icon: aaron" title="aaron">                </p>
                <p class="date" title="Aug 27, 2012 09:24">
                    Aug 27, 2012
                </p>
                <div class="comment-header">
                    <h4 class="author"><a href="../../login.action-os_destination=-display-~aaron.html"
                          class="url fn"
                   >Aaron Bedra</a></h4>
                </div>
                <div class="comment-body">
                    <div class="comment-content wiki-content">
                        <p>I don't think the display matters nearly as much as it's ability to follow the rules. Obeying the rules would be a great change. If there were changes made to how the structure was printed back, I would want to know that it was a Java object though. I wouldn't want to accidentally assume the guarantees of a vector when in fact I was holding an array. I think that it would be painfully obvious when the program executed, but keeping things visually distinct doesn't  seem like a bad idea.</p>
                    </div>
                    <div class="comment-actions">
                                                      <ul class="comment-actions-secondary">
                                                          <li class="first comment-permalink">
            <a title="Permanent link to this comment" href="Print+Control+for+Java+Collection+Types-focusedCommentId=5767197.html#comment-5767197"
                id="comment-permalink-5767197"                ><span>Permalink</span></a></li>
            </ul>
                                <ul class="comment-actions-primary">
            </ul>
                      </div>
                </div>
            </div>

            <!--
<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
         xmlns:dc="http://purl.org/dc/elements/1.1/"
         xmlns:trackback="http://madskills.com/public/xml/rss/module/trackback/">
         <rdf:Description
    rdf:about="Print+Control+for+Java+Collection+Types-focusedCommentId=5767197.html#comment-5767197"
    dc:identifier="Print+Control+for+Java+Collection+Types-focusedCommentId=5767197.html#comment-5767197"
    dc:title="Print Control for Java Collection Types"
    trackback:ping="https://dev.clojure.org/rpc/trackback/5767197"/>
</rdf:RDF>
-->

                    
                                </li>
                        <li id="comment-thread-5767198" class="comment-thread">
                                <div class="comment  " id="comment-5767198">
                <p class="comment-user-logo">
                    <img class="userLogo logo anonymous" src="../../s/en_GB/3047/3/_/images/icons/profilepics/anonymous.png"
           alt="User icon: brandon@brandonbloom.name" title="brandon@brandonbloom.name">                </p>
                <p class="date" title="Aug 27, 2012 12:36">
                    Aug 27, 2012
                </p>
                <div class="comment-header">
                    <h4 class="author"><a href="../../login.action-os_destination=-display-~brandon@brandonbloom.name.html"
                          class="url fn"
                   >Brandon Bloom</a></h4>
                </div>
                <div class="comment-body">
                    <div class="comment-content wiki-content">
                        <p>I don't think it's a good idea to hide the Java-type. It obscures important information in the REPL and during debugging. It also creates asymmetric printing/reading, where the existing &lt;#...&gt; format would throw an error to protect you from such a mistake.</p><p>What about utilizing tagged literals? &quot;#java.util.ArrayList [1 2]&quot;</p>
                    </div>
                    <div class="comment-actions">
                                                      <ul class="comment-actions-secondary">
                                                          <li class="first comment-permalink">
            <a title="Permanent link to this comment" href="Print+Control+for+Java+Collection+Types-focusedCommentId=5767198.html#comment-5767198"
                id="comment-permalink-5767198"                ><span>Permalink</span></a></li>
            </ul>
                                <ul class="comment-actions-primary">
            </ul>
                      </div>
                </div>
            </div>

            <!--
<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
         xmlns:dc="http://purl.org/dc/elements/1.1/"
         xmlns:trackback="http://madskills.com/public/xml/rss/module/trackback/">
         <rdf:Description
    rdf:about="Print+Control+for+Java+Collection+Types-focusedCommentId=5767198.html#comment-5767198"
    dc:identifier="Print+Control+for+Java+Collection+Types-focusedCommentId=5767198.html#comment-5767198"
    dc:title="Print Control for Java Collection Types"
    trackback:ping="https://dev.clojure.org/rpc/trackback/5767198"/>
</rdf:RDF>
-->

                    
                                </li>
                        <li id="comment-thread-5767201" class="comment-thread">
                                <div class="comment  " id="comment-5767201">
                <p class="comment-user-logo">
                    <img class="userLogo logo anonymous" src="../../s/en_GB/3047/3/_/images/icons/profilepics/anonymous.png"
           alt="User icon: stuart.sierra" title="stuart.sierra">                </p>
                <p class="date" title="Aug 27, 2012 19:51">
                    Aug 27, 2012
                </p>
                <div class="comment-header">
                    <h4 class="author"><a href="../../login.action-os_destination=-display-~stuart.sierra.html"
                          class="url fn"
                   >Stuart Sierra</a></h4>
                </div>
                <div class="comment-body">
                    <div class="comment-content wiki-content">
                        <p>Tagged literals can't have dots in their tag names, because then the reader assumes it's a record/type literal. You could make up some other tag like clojure.java/array-list.</p><p>But I agree with Aaron that it's more important to obey the printing rules.</p>
                    </div>
                    <div class="comment-actions">
                                                      <ul class="comment-actions-secondary">
                                                          <li class="first comment-permalink">
            <a title="Permanent link to this comment" href="Print+Control+for+Java+Collection+Types-focusedCommentId=5767201.html#comment-5767201"
                id="comment-permalink-5767201"                ><span>Permalink</span></a></li>
            </ul>
                                <ul class="comment-actions-primary">
            </ul>
                      </div>
                </div>
            </div>

            <!--
<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
         xmlns:dc="http://purl.org/dc/elements/1.1/"
         xmlns:trackback="http://madskills.com/public/xml/rss/module/trackback/">
         <rdf:Description
    rdf:about="Print+Control+for+Java+Collection+Types-focusedCommentId=5767201.html#comment-5767201"
    dc:identifier="Print+Control+for+Java+Collection+Types-focusedCommentId=5767201.html#comment-5767201"
    dc:title="Print Control for Java Collection Types"
    trackback:ping="https://dev.clojure.org/rpc/trackback/5767201"/>
</rdf:RDF>
-->

                    
                                    <ol class="comment-threads">
                                        <li id="comment-thread-5767204" class="comment-thread">
                                <div class="comment  " id="comment-5767204">
                <p class="comment-user-logo">
                    <img class="userLogo logo anonymous" src="../../s/en_GB/3047/3/_/images/icons/profilepics/anonymous.png"
           alt="User icon: brandon@brandonbloom.name" title="brandon@brandonbloom.name">                </p>
                <p class="date" title="Aug 28, 2012 13:22">
                    Aug 28, 2012
                </p>
                <div class="comment-header">
                    <h4 class="author"><a href="../../login.action-os_destination=-display-~brandon@brandonbloom.name.html"
                          class="url fn"
                   >Brandon Bloom</a></h4>
                </div>
                <div class="comment-body">
                    <div class="comment-content wiki-content">
                        <p>Is there an inherent ambiguity here? Or is this just an artifact of the current implementation?</p><p>Here's the printed (and readable!) form for a Record:</p><div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<script type="syntaxhighlighter" class="theme: Confluence; brush: java; gutter: false"><![CDATA[user=&gt; (defrecord Point [x y])
user.Point
user=&gt; (Point. 5 10)
#user.Point{:x 5, :y 10}]]></script>
</div></div><p>I'm not sure why we couldn't also support:</p><div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<script type="syntaxhighlighter" class="theme: Confluence; brush: java; gutter: false"><![CDATA[#java.util.ArrayList[5 10]]]></script>
</div></div><p>The <a href="Tagged+Literals.html">Tagged Literals</a> page mentions ambiguity with record constructors, but doesn't demonstrate it. Could you elaborate?</p>
                    </div>
                    <div class="comment-actions">
                                                      <ul class="comment-actions-secondary">
                                                          <li class="first comment-permalink">
            <a title="Permanent link to this comment" href="Print+Control+for+Java+Collection+Types-focusedCommentId=5767204.html#comment-5767204"
                id="comment-permalink-5767204"                ><span>Permalink</span></a></li>
            </ul>
                                <ul class="comment-actions-primary">
            </ul>
                      </div>
                </div>
            </div>

            <!--
<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
         xmlns:dc="http://purl.org/dc/elements/1.1/"
         xmlns:trackback="http://madskills.com/public/xml/rss/module/trackback/">
         <rdf:Description
    rdf:about="Print+Control+for+Java+Collection+Types-focusedCommentId=5767204.html#comment-5767204"
    dc:identifier="Print+Control+for+Java+Collection+Types-focusedCommentId=5767204.html#comment-5767204"
    dc:title="Print Control for Java Collection Types"
    trackback:ping="https://dev.clojure.org/rpc/trackback/5767204"/>
</rdf:RDF>
-->

                    
                                    <ol class="comment-threads">
                                        <li id="comment-thread-5767206" class="comment-thread">
                                <div class="comment  " id="comment-5767206">
                <p class="comment-user-logo">
                    <img class="userLogo logo anonymous" src="../../s/en_GB/3047/3/_/images/icons/profilepics/anonymous.png"
           alt="User icon: stu" title="stu">                </p>
                <p class="date" title="Aug 28, 2012 14:06">
                    Aug 28, 2012
                </p>
                <div class="comment-header">
                    <h4 class="author"><a href="../../login.action-os_destination=-display-~stu.html"
                          class="url fn"
                   >Stuart Halloway</a></h4>
                </div>
                <div class="comment-body">
                    <div class="comment-content wiki-content">
                        <p>Having the reader know to how to make mutable, platform-specific data structures (hereafter &quot;host literals&quot;) is separate from the objective of this proposal, but is certainly worth considering while we are here.</p><p>That said, I don't want host literals (at least not as part of this more limited proposal). Host literals don't solve the problem at hand, as we have no guarantee that we can make them. Your example works because we know about ArrayList, but what about List implementations not in the JDK? The list interface does not promise a one-arg constructor form for all its concrete types.</p><p>If we are going to do host literals, I would argue for doing them as a separate proposal, and doing the print side only when print-dup is on. We would need to consider the syntax you suggest, but also perhaps a categoric syntax, e.g.</p><p><code>#native.MutableList[]</code></p><p>which could be portable across Clojure dialects. </p>
                    </div>
                    <div class="comment-actions">
                                                      <ul class="comment-actions-secondary">
                                                          <li class="first comment-permalink">
            <a title="Permanent link to this comment" href="Print+Control+for+Java+Collection+Types-focusedCommentId=5767206.html#comment-5767206"
                id="comment-permalink-5767206"                ><span>Permalink</span></a></li>
            </ul>
                                <ul class="comment-actions-primary">
            </ul>
                      </div>
                </div>
            </div>

            <!--
<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
         xmlns:dc="http://purl.org/dc/elements/1.1/"
         xmlns:trackback="http://madskills.com/public/xml/rss/module/trackback/">
         <rdf:Description
    rdf:about="Print+Control+for+Java+Collection+Types-focusedCommentId=5767206.html#comment-5767206"
    dc:identifier="Print+Control+for+Java+Collection+Types-focusedCommentId=5767206.html#comment-5767206"
    dc:title="Print Control for Java Collection Types"
    trackback:ping="https://dev.clojure.org/rpc/trackback/5767206"/>
</rdf:RDF>
-->

                    
                                    <ol class="comment-threads">
                                        <li id="comment-thread-5767208" class="comment-thread">
                                <div class="comment  " id="comment-5767208">
                <p class="comment-user-logo">
                    <img class="userLogo logo anonymous" src="../../s/en_GB/3047/3/_/images/icons/profilepics/anonymous.png"
           alt="User icon: brandon@brandonbloom.name" title="brandon@brandonbloom.name">                </p>
                <p class="date" title="Aug 28, 2012 19:56">
                    Aug 28, 2012
                </p>
                <div class="comment-header">
                    <h4 class="author"><a href="../../login.action-os_destination=-display-~brandon@brandonbloom.name.html"
                          class="url fn"
                   >Brandon Bloom</a></h4>
                </div>
                <div class="comment-body">
                    <div class="comment-content wiki-content">
                        <p><span>&gt; platform-specific data structures (hereafter &quot;host literals&quot;) is separate from the objective of this proposal, but is certainly worth considering while we are here.</span></p><p><span>After thinking about this a bit more, I fully agree, but allow me to elaborate on why, so that we can make a fully informed decision about print control and, in particular, the question of including type information in the printed output.</span></p><p>&gt; The list interface does not promise a one-arg constructor form for all its concrete types.</p><p>It's true: I often forget that constructors are just less-flexible functions that don't place nice with interfaces/protocols. I try to avoid the Java-ism of factory interfaces whenever I can. However, even if an interface could promise a constructor, you wouldn't want to go willy-nilly calling constructors by interface. That would be a security hole. I could define a class which implements that factory interface, but runs arbitrary code during construction. The reader should be considered safe to use in pretty much all situations, unless you explicitly turn this off. Hence, I why I think about tagged literals like an eval-reader whitelist.</p><p>For &quot;host literals&quot;, I'm proposing a small extension of the tagged literal reader. Right now, we have symbol -&gt; factory function where the symbol is restricted to foo.bar/baz and not foo.bar.Baz but we could relax that constraint (assuming this can co-exist with record literals). Each host could install factory functions for known types (and extend-protocol for printing). As you suggested, we could also have some agreed upon native.MutableList sort of thing for portability if appropriate. Record literals could just be tagged literals for whom their symbol and factory function pair get installed automatically on defrecord.</p>
                    </div>
                    <div class="comment-actions">
                                                      <ul class="comment-actions-secondary">
                                                          <li class="first comment-permalink">
            <a title="Permanent link to this comment" href="Print+Control+for+Java+Collection+Types-focusedCommentId=5767208.html#comment-5767208"
                id="comment-permalink-5767208"                ><span>Permalink</span></a></li>
            </ul>
                                <ul class="comment-actions-primary">
            </ul>
                      </div>
                </div>
            </div>

            <!--
<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
         xmlns:dc="http://purl.org/dc/elements/1.1/"
         xmlns:trackback="http://madskills.com/public/xml/rss/module/trackback/">
         <rdf:Description
    rdf:about="Print+Control+for+Java+Collection+Types-focusedCommentId=5767208.html#comment-5767208"
    dc:identifier="Print+Control+for+Java+Collection+Types-focusedCommentId=5767208.html#comment-5767208"
    dc:title="Print Control for Java Collection Types"
    trackback:ping="https://dev.clojure.org/rpc/trackback/5767208"/>
</rdf:RDF>
-->

                    
                                </li>
                                </ol>
                        </li>
                                        <li id="comment-thread-5767213" class="comment-thread">
                                <div class="comment  " id="comment-5767213">
                <p class="comment-user-logo">
                    <img class="userLogo logo anonymous" src="../../s/en_GB/3047/3/_/images/icons/profilepics/anonymous.png"
           alt="User icon: stuart.sierra" title="stuart.sierra">                </p>
                <p class="date" title="Aug 29, 2012 08:02">
                    Aug 29, 2012
                </p>
                <div class="comment-header">
                    <h4 class="author"><a href="../../login.action-os_destination=-display-~stuart.sierra.html"
                          class="url fn"
                   >Stuart Sierra</a></h4>
                </div>
                <div class="comment-body">
                    <div class="comment-content wiki-content">
                        <p>It's an implementation detail. The 1.4 reader looks for dots in a tag name as an indication that it's a record or class constructor. </p>
                    </div>
                    <div class="comment-actions">
                                                      <ul class="comment-actions-secondary">
                                                          <li class="first comment-permalink">
            <a title="Permanent link to this comment" href="Print+Control+for+Java+Collection+Types-focusedCommentId=5767213.html#comment-5767213"
                id="comment-permalink-5767213"                ><span>Permalink</span></a></li>
            </ul>
                                <ul class="comment-actions-primary">
            </ul>
                      </div>
                </div>
            </div>

            <!--
<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
         xmlns:dc="http://purl.org/dc/elements/1.1/"
         xmlns:trackback="http://madskills.com/public/xml/rss/module/trackback/">
         <rdf:Description
    rdf:about="Print+Control+for+Java+Collection+Types-focusedCommentId=5767213.html#comment-5767213"
    dc:identifier="Print+Control+for+Java+Collection+Types-focusedCommentId=5767213.html#comment-5767213"
    dc:title="Print Control for Java Collection Types"
    trackback:ping="https://dev.clojure.org/rpc/trackback/5767213"/>
</rdf:RDF>
-->

                    
                                    <ol class="comment-threads">
                                        <li id="comment-thread-5767216" class="comment-thread">
                                <div class="comment  " id="comment-5767216">
                <p class="comment-user-logo">
                    <img class="userLogo logo anonymous" src="../../s/en_GB/3047/3/_/images/icons/profilepics/anonymous.png"
           alt="User icon: brandon@brandonbloom.name" title="brandon@brandonbloom.name">                </p>
                <p class="date" title="Aug 29, 2012 15:15">
                    Aug 29, 2012
                </p>
                <div class="comment-header">
                    <h4 class="author"><a href="../../login.action-os_destination=-display-~brandon@brandonbloom.name.html"
                          class="url fn"
                   >Brandon Bloom</a></h4>
                </div>
                <div class="comment-body">
                    <div class="comment-content wiki-content">
                        <p>That's what I thought. Good news!</p><p>Maybe for 1.5, we just change that implementation detail, such that tagged literals and record forms are unified. defrecord can install a tagged reader and we'll have the option of installing tagged readers for host types as well. There there is no more concept of a &quot;host literal&quot;, it's just a normal tagged literal. Installing read/print support for a host type would just be a matter of a macro which simultaneously extends printable and installs a tagged literal.</p><p>That makes host literals a solved problem in my mind. The print implementations for host literals can obey the print control vars. That moves the discussion back to what to print for things that implement java.util.List, for example, but don't have a tagged literal: 1) discard reader 2) unreadable form 3) metadata 4) something else?</p><p>My intuition is to default to #2, but always print the type and obey the print control parameters. There should be a var to switch to #3. Alternatively, #3 could be the default with the toggle back to #2.</p>
                    </div>
                    <div class="comment-actions">
                                                      <ul class="comment-actions-secondary">
                                                          <li class="first comment-permalink">
            <a title="Permanent link to this comment" href="Print+Control+for+Java+Collection+Types-focusedCommentId=5767216.html#comment-5767216"
                id="comment-permalink-5767216"                ><span>Permalink</span></a></li>
            </ul>
                                <ul class="comment-actions-primary">
            </ul>
                      </div>
                </div>
            </div>

            <!--
<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
         xmlns:dc="http://purl.org/dc/elements/1.1/"
         xmlns:trackback="http://madskills.com/public/xml/rss/module/trackback/">
         <rdf:Description
    rdf:about="Print+Control+for+Java+Collection+Types-focusedCommentId=5767216.html#comment-5767216"
    dc:identifier="Print+Control+for+Java+Collection+Types-focusedCommentId=5767216.html#comment-5767216"
    dc:title="Print Control for Java Collection Types"
    trackback:ping="https://dev.clojure.org/rpc/trackback/5767216"/>
</rdf:RDF>
-->

                    
                                </li>
                                </ol>
                        </li>
                                </ol>
                        </li>
                                </ol>
                        </li>
                        <li id="comment-thread-5767203" class="comment-thread">
                                <div class="comment  " id="comment-5767203">
                <p class="comment-user-logo">
                    <img class="userLogo logo anonymous" src="../../s/en_GB/3047/3/_/images/icons/profilepics/anonymous.png"
           alt="User icon: stu" title="stu">                </p>
                <p class="date" title="Aug 28, 2012 09:27">
                    Aug 28, 2012
                </p>
                <div class="comment-header">
                    <h4 class="author"><a href="../../login.action-os_destination=-display-~stu.html"
                          class="url fn"
                   >Stuart Halloway</a></h4>
                </div>
                <div class="comment-body">
                    <div class="comment-content wiki-content">
                        <p>There are two reasons to want the Java type:</p><ol><li>The (programmatic) reader could know about the type, in order to rehydrate that type. This case is already handled by binding print-dup.</li><li>The (human) reader wants to know about the type. One way to do that would be to emit the type inside a discard reader macro, e.g.  <br /><code>#_java.util.ArrayList [1 2 3]</code></li></ol><div><span>I like the discard reader approach. It will produce data that can be read back, which I think is a good thing. Brandon, why do you want to break the reader in such cases?</span></div>
                    </div>
                    <div class="comment-actions">
                                                      <ul class="comment-actions-secondary">
                                                          <li class="first comment-permalink">
            <a title="Permanent link to this comment" href="Print+Control+for+Java+Collection+Types-focusedCommentId=5767203.html#comment-5767203"
                id="comment-permalink-5767203"                ><span>Permalink</span></a></li>
            </ul>
                                <ul class="comment-actions-primary">
            </ul>
                      </div>
                </div>
            </div>

            <!--
<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
         xmlns:dc="http://purl.org/dc/elements/1.1/"
         xmlns:trackback="http://madskills.com/public/xml/rss/module/trackback/">
         <rdf:Description
    rdf:about="Print+Control+for+Java+Collection+Types-focusedCommentId=5767203.html#comment-5767203"
    dc:identifier="Print+Control+for+Java+Collection+Types-focusedCommentId=5767203.html#comment-5767203"
    dc:title="Print Control for Java Collection Types"
    trackback:ping="https://dev.clojure.org/rpc/trackback/5767203"/>
</rdf:RDF>
-->

                    
                                    <ol class="comment-threads">
                                        <li id="comment-thread-5767205" class="comment-thread">
                                <div class="comment  " id="comment-5767205">
                <p class="comment-user-logo">
                    <img class="userLogo logo anonymous" src="../../s/en_GB/3047/3/_/images/icons/profilepics/anonymous.png"
           alt="User icon: brandon@brandonbloom.name" title="brandon@brandonbloom.name">                </p>
                <p class="date" title="Aug 28, 2012 13:41">
                    Aug 28, 2012
                </p>
                <div class="comment-header">
                    <h4 class="author"><a href="../../login.action-os_destination=-display-~brandon@brandonbloom.name.html"
                          class="url fn"
                   >Brandon Bloom</a></h4>
                </div>
                <div class="comment-body">
                    <div class="comment-content wiki-content">
                        <p>print-dup depends on the #= eval reader form, which is a giant gaping security hole for many use cases. I view tagged literals as a sort of whitelist of functions that can safely be used to rehydrate types. print-dup also requires you to activate it explicitly, which defeats the goal of improving REPL sessions.</p><p>Assuming there isn't an insurmountable ambiguity and tagged literals, it seems preferable to have the printed data be useful to both humans and the programmatic reader. Whether or not you want printing to be precisely reversible depends on your use case. Sometimes you want to send data across the wire, so you don't care if the recipient uses the same type as you. In such a case, maybe you could output tag metadata <span style="color: rgb(153,51,102);">^java.util.ArrayList [1 2 3]</span> ? That way both the human reader and the programmatic reader have access, but the programmatic reader ignores it by default. In other cases, you do want precise reversibility, which is what I guess print-dup is for. It seems like as-reversible-as-possible is the right default, throwing an error if that's not achievable (hence, the unreadable dispatch macro's behavior). When you get such an error, you're prompted to make a decision about what behavior your want. Printing the type as discarded seems like you're setting yourself up for a subtle bug later when you realize you depended on the exact type of your data. Maybe print-dup being a boolean is too simple and we need a little extra configuration. At the very least, there should be a secure way to rehydrate platform types.</p>
                    </div>
                    <div class="comment-actions">
                                                      <ul class="comment-actions-secondary">
                                                          <li class="first comment-permalink">
            <a title="Permanent link to this comment" href="Print+Control+for+Java+Collection+Types-focusedCommentId=5767205.html#comment-5767205"
                id="comment-permalink-5767205"                ><span>Permalink</span></a></li>
            </ul>
                                <ul class="comment-actions-primary">
            </ul>
                      </div>
                </div>
            </div>

            <!--
<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
         xmlns:dc="http://purl.org/dc/elements/1.1/"
         xmlns:trackback="http://madskills.com/public/xml/rss/module/trackback/">
         <rdf:Description
    rdf:about="Print+Control+for+Java+Collection+Types-focusedCommentId=5767205.html#comment-5767205"
    dc:identifier="Print+Control+for+Java+Collection+Types-focusedCommentId=5767205.html#comment-5767205"
    dc:title="Print Control for Java Collection Types"
    trackback:ping="https://dev.clojure.org/rpc/trackback/5767205"/>
</rdf:RDF>
-->

                    
                                    <ol class="comment-threads">
                                        <li id="comment-thread-5767207" class="comment-thread">
                                <div class="comment  " id="comment-5767207">
                <p class="comment-user-logo">
                    <img class="userLogo logo anonymous" src="../../s/en_GB/3047/3/_/images/icons/profilepics/anonymous.png"
           alt="User icon: stu" title="stu">                </p>
                <p class="date" title="Aug 28, 2012 14:07">
                    Aug 28, 2012
                </p>
                <div class="comment-header">
                    <h4 class="author"><a href="../../login.action-os_destination=-display-~stu.html"
                          class="url fn"
                   >Stuart Halloway</a></h4>
                </div>
                <div class="comment-body">
                    <div class="comment-content wiki-content">
                        <p>Can you elaborate on how the discarded type info can cause a subtle bug? It seems the opposite to me – since it is discarded, there is no way you can depend on it. And since the following data structure is ordinary, there is no way you can accidentally depend on host-isms.</p>
                    </div>
                    <div class="comment-actions">
                                                      <ul class="comment-actions-secondary">
                                                          <li class="first comment-permalink">
            <a title="Permanent link to this comment" href="Print+Control+for+Java+Collection+Types-focusedCommentId=5767207.html#comment-5767207"
                id="comment-permalink-5767207"                ><span>Permalink</span></a></li>
            </ul>
                                <ul class="comment-actions-primary">
            </ul>
                      </div>
                </div>
            </div>

            <!--
<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
         xmlns:dc="http://purl.org/dc/elements/1.1/"
         xmlns:trackback="http://madskills.com/public/xml/rss/module/trackback/">
         <rdf:Description
    rdf:about="Print+Control+for+Java+Collection+Types-focusedCommentId=5767207.html#comment-5767207"
    dc:identifier="Print+Control+for+Java+Collection+Types-focusedCommentId=5767207.html#comment-5767207"
    dc:title="Print Control for Java Collection Types"
    trackback:ping="https://dev.clojure.org/rpc/trackback/5767207"/>
</rdf:RDF>
-->

                    
                                    <ol class="comment-threads">
                                        <li id="comment-thread-5767209" class="comment-thread">
                                <div class="comment  " id="comment-5767209">
                <p class="comment-user-logo">
                    <img class="userLogo logo anonymous" src="../../s/en_GB/3047/3/_/images/icons/profilepics/anonymous.png"
           alt="User icon: brandon@brandonbloom.name" title="brandon@brandonbloom.name">                </p>
                <p class="date" title="Aug 28, 2012 20:45">
                    Aug 28, 2012
                </p>
                <div class="comment-header">
                    <h4 class="author"><a href="../../login.action-os_destination=-display-~brandon@brandonbloom.name.html"
                          class="url fn"
                   >Brandon Bloom</a></h4>
                </div>
                <div class="comment-body">
                    <div class="comment-content wiki-content">
                        <p>I'd need to think more deeply about the common use cases of print and read, but my expectation is that, being inverses of each other, print and read should hold the properties of functional inverses. Specifically, I expect (= x (read-str (print-string x))); that is (comp read-string pr-str) is equivalent to identity. Unfortunately, that's not the case in practice because print and read are implemented separately and there exists printable forms that are not currently readable. In mathematical terms, read-str is a partial inverse of pr-str for the domain of readable forms. Also unfortunately, printing is not currently an injective function if you consider type; there are multiple values in the domain that produce the same value in the co-domain (eg. hash-map and array-map both print the same). This is where print-dup comes in: it makes printing injective. print and read are bijective for the domain of Clojure objects, if you ignore type, and bijective with respect to type if print-dup enabled. It seems to me to be a bug for read to produce a value that violates the properties of a functional inverse. However, again, I don't have a strong dependency on this behavior in any of my code, it's just my expectations from the math universe. If real use cases would be better served by not being true inverses, then we should explore concrete examples. Otherwise, it seems like a non bugged implementation would assume that read is a partial inverse of print and you get an invalid argument error of sorts when you try to read something outside of its domain. My proposal to extend the tagged literal machinery comes from the motivation of expanding the domain of the reader to be a true inverse over a greater set of values.</p><p>Sorry about the run-on sentences and mathematical spew. That was just sort of a brain dump.</p><p>Despite the rambling, I don't really care one way or another, as long as the data is available to read <strong>somehow</strong>. Hence I prefer printing with metadata over the discard reader. This way it's ignored by default, but available (ie not discarded) if necessary.</p>
                    </div>
                    <div class="comment-actions">
                                                      <ul class="comment-actions-secondary">
                                                          <li class="first comment-permalink">
            <a title="Permanent link to this comment" href="Print+Control+for+Java+Collection+Types-focusedCommentId=5767209.html#comment-5767209"
                id="comment-permalink-5767209"                ><span>Permalink</span></a></li>
            </ul>
                                <ul class="comment-actions-primary">
            </ul>
                      </div>
                </div>
            </div>

            <!--
<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
         xmlns:dc="http://purl.org/dc/elements/1.1/"
         xmlns:trackback="http://madskills.com/public/xml/rss/module/trackback/">
         <rdf:Description
    rdf:about="Print+Control+for+Java+Collection+Types-focusedCommentId=5767209.html#comment-5767209"
    dc:identifier="Print+Control+for+Java+Collection+Types-focusedCommentId=5767209.html#comment-5767209"
    dc:title="Print Control for Java Collection Types"
    trackback:ping="https://dev.clojure.org/rpc/trackback/5767209"/>
</rdf:RDF>
-->

                    
                                </li>
                                </ol>
                        </li>
                                </ol>
                        </li>
                                </ol>
                        </li>
                        <li id="comment-thread-5767252" class="comment-thread">
                                <div class="comment  " id="comment-5767252">
                <p class="comment-user-logo">
                    <img class="userLogo logo anonymous" src="../../s/en_GB/3047/3/_/images/icons/profilepics/anonymous.png"
           alt="User icon: richhickey" title="richhickey">                </p>
                <p class="date" title="Sep 06, 2012 06:22">
                    Sep 06, 2012
                </p>
                <div class="comment-header">
                    <h4 class="author"><a href="../../login.action-os_destination=-display-~richhickey.html"
                          class="url fn"
                   >Rich Hickey</a></h4>
                </div>
                <div class="comment-body">
                    <div class="comment-content wiki-content">
                        <p>I don't think any of the arguments for including type information hold up. If you want to see types, use print-dup. If you don't like that print-dup uses #= for Java collections, propose a patch for that, e.g. via tags #java.util.ArrayList [1 2 3]. If you want to see the class of something, call class. Using metadata overloads that space (is it real metadata or type metadata? will have to be checked everywhere)</p><p>Simple print and read are about facilitating communicating information with a minimum of implementation specificity - that's why sorted/hashed Clojure collections are undistinguished.</p><p>If we are going to start widening the scope of the use of Clojure data for communicating information between langs (which is good for Clojure), we'd better minimize specificity. We are going to be advocating that other langs just send us their collections plainly - let's start with Java.</p>
                    </div>
                    <div class="comment-actions">
                                                      <ul class="comment-actions-secondary">
                                                          <li class="first comment-permalink">
            <a title="Permanent link to this comment" href="Print+Control+for+Java+Collection+Types-focusedCommentId=5767252.html#comment-5767252"
                id="comment-permalink-5767252"                ><span>Permalink</span></a></li>
            </ul>
                                <ul class="comment-actions-primary">
            </ul>
                      </div>
                </div>
            </div>

            <!--
<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
         xmlns:dc="http://purl.org/dc/elements/1.1/"
         xmlns:trackback="http://madskills.com/public/xml/rss/module/trackback/">
         <rdf:Description
    rdf:about="Print+Control+for+Java+Collection+Types-focusedCommentId=5767252.html#comment-5767252"
    dc:identifier="Print+Control+for+Java+Collection+Types-focusedCommentId=5767252.html#comment-5767252"
    dc:title="Print Control for Java Collection Types"
    trackback:ping="https://dev.clojure.org/rpc/trackback/5767252"/>
</rdf:RDF>
-->

                    
                                </li>
                </ol>
    
    </div>


            
</div>


    



    
    

    
    
    


    



    <br class="clear">
</div>
  
    </div>
</div>

<div id="footer">
                                                <p class="license license-opensource">
                  Powered by a free <b>Atlassian Confluence Open Source Project License</b> granted to Clojure. <a href="http://www.atlassian.com/c/conf/11461">Evaluate Confluence today</a>.<br>
                </p>
                        
    <ul id="poweredby">
        <li class="noprint">Powered by <a href="http://www.atlassian.com/software/confluence" class="hover-footer-link">Atlassian Confluence</a> <span id='footer-build-information'>4.0</span>, the <a href="http://www.atlassian.com/software/confluence/tour/enterprise-wiki.jsp" class="hover-footer-link">Enterprise Wiki</a></li>
        <li class="print-only">Printed by Atlassian Confluence 4.0, the Enterprise Wiki.</li>        
        <li class="noprint"> &nbsp; |&nbsp; <a href="http://jira.atlassian.com/secure/BrowseProject.jspa?id=10470" class="hover-footer-link">Report a bug</a></li>
        <li class="noprint"> &nbsp;|&nbsp; <a href="http://www.atlassian.com/about/connected.jsp?s_kwcid=Confluence-stayintouch" class="hover-footer-link">Atlassian News</a></li>
    </ul>

    

            <div><span style="">Site support by</span><a href="http://contegix.com"> <img style="vertical-align:middle" src="../../download/attachments/459015/contegix.jpg.html"/></a></div>
    </div></div>
</body>
</html>
